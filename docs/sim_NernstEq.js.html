<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sim/NernstEq.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sim/NernstEq.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Create a Nernst Equation system. *///
class NernstEq {
  /**
  * Create a Nernst Equation .
  * @param {Object} sim - Current simulation object
  */
  constructor(m_sim) {
    this.m_sim = m_sim;
  }

      /**
      * start a Nernst Equation and clear all Goldman Equation setting.
      * @access public
      */
  start(evt) {
    var sim = this.m_sim;

    //Graphics &amp; Text
    sim.renderUI('GoldmanSetting', false)

    //Remove old text
    if (document.getElementById('MathJax-Element-1-Frame')) {
      sim.renderUI('GoldmanEqn',false)
      sim.renderUI('NernstEqn',true)

      if (sim.questionsAreHidden()) { //Only appear setting when question box disappear
        sim.renderUI('NernstSetting', true);
      }
    }

    //Add new text
    sim.m_dom.m_sim_question.init("Nernst");

    sim.simMode("Nernst");

    //disable the net in the plot
    graph.hidePlot(3, true);

    //enable last selected Ions
    for (var j = 0; j &lt; sim.numParticleTypes(); j++) {
      var checkBoxParticle = sim.m_dom.m_sim_controls.checkboxes[j].elt.innerText;
      if (checkBoxParticle == sim.m_nernst_particle) {

        //Just enable it by default?

        //enable its particles
        sim.m_dom.m_sim_controls.checkbox(j, true);
        enableInputForParticle(checkBoxParticle);
        animationSequencer.current().setContainerDisplays(checkBoxParticle, true);

        //Also enable the particle in the plot
        graph.hidePlot(j, false);

        FormulaInputCalculation(checkBoxParticle);

        //disable other ions if they are on?
      } else if (checkBoxParticle != sim.m_nernst_particle &amp;&amp; sim.m_dom.m_sim_controls.checkbox(j)) {
        //disable others particles
        sim.m_dom.m_sim_controls.checkbox(j, false);
        disableInputForParticle(checkBoxParticle);
        animationSequencer.current().setContainerDisplays(checkBoxParticle, false);

        //Also disable the particle in the plot
        graph.hidePlot(j, true);
      }
    }
  }

      /**
      * compute a Nernst Equation based on current ion and simulation setting.
      * @access private
      * @param {String} particleType - ion type, such as 'Na','Cl','K'
      * @returns {number}
      */
  compute(particleType) {
    // input: string;
    var R = this.m_sim.m_settings.gas_constant; // ideal gas constant
    var T = this.m_sim.m_settings.temperature; // 37 is the Human Body temperature
    var F = this.m_sim.m_settings.faraday; // Faraday's constant
    var z = particleMapper[particleType]["charge"];

    var Xout = this.m_sim.m_dom.m_sim_controls.concentration(particleType, "outside");
    var Xin = this.m_sim.m_dom.m_sim_controls.concentration(particleType, "inside");

    var answer = (R * T) / (z * F) * Math.log(Xout / Xin);
    return answer;
  }

    /**
    * compute a Nernst Equation based on current ion and simulation setting to 4 decimal points.
    * @access public
    * @param {String} particleType - ion type, such as 'Na','Cl','K'
    * @returns {number}
    */
  result(type) {
    return this.compute(type).toFixed(4);
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Cl.html">Cl</a></li><li><a href="EquationResult.html">EquationResult</a></li><li><a href="globals.html">globals</a></li><li><a href="GoldmanEq.html">GoldmanEq</a></li><li><a href="Help.html">Help</a></li><li><a href="InputRow.html">InputRow</a></li><li><a href="K.html">K</a></li><li><a href="Na.html">Na</a></li><li><a href="NernstEq.html">NernstEq</a></li><li><a href="Particle.html">Particle</a></li><li><a href="Point.html">Point</a></li><li><a href="Preset.html">Preset</a></li><li><a href="Question.html">Question</a></li><li><a href="Rectangle.html">Rectangle</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Mar 20 2019 11:49:43 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>

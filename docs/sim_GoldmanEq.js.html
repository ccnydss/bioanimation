<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sim/GoldmanEq.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sim/GoldmanEq.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Create a Goldman Equation system. *///
class GoldmanEq {
  /**
  * Create a Goldman Equation .
  * @param {Object} sim - Current simulation object
  */
  constructor(m_sim) {
    this.m_sim = m_sim;
  }

    /**
    * start a Goldman Equation and clear all Nernst Equation setting.
    * @access public
    */
  start() {
    // input: the element that triggered the event; however this input is unused in this function

    //Graphics &amp; Text

    //Remove old text
    if (document.getElementById('MathJax-Element-1-Frame')) {
      this.m_sim.renderUI('NernstEqn', false);
      this.m_sim.renderUI('GoldmanEqn', true);

      if (this.m_sim.questionsAreHidden()) { //Only appear setting when question box disappear
        this.m_sim.renderUI('GoldmanSetting', true);
      }
    }

    //Add new text
    this.m_sim.m_dom.m_sim_question.init("Goldman");

    //Particles &amp; functionality
    this.m_sim.simMode("Goldman");

    //enable the net in the plot
    graph.hidePlot(3, false);

    //enable all Ions
    for (var j = 0; j &lt; this.m_sim.numParticleTypes(); j++) {
      //enable all the particle in the plot
      graph.hidePlot(j, false);

      var checkBoxParticle = this.m_sim.m_dom.m_sim_controls.checkboxes[j].elt.innerText;

      if (!this.m_sim.m_dom.m_sim_controls.checkbox(j)) {

        //enable those particles
        this.m_sim.m_dom.m_sim_controls.checkbox(j, true);
        animationSequencer.current().setContainerDisplays(checkBoxParticle, true);
        enableInputForParticle(checkBoxParticle);
      }
    }

    FormulaInputCalculation();
  }

    /**
    * compute a Goldman Equation based on current simulation setting.
    * @access private
    * @returns {number}
    */
  compute() {
    var R = this.m_sim.m_settings.gas_constant;   // ideal gas constant
    var T = this.m_sim.m_settings.temperature;    // 37 is the Human Body temperature
    var F = this.m_sim.m_settings.faraday;        // Faraday's constant

    var numerator = 0;
    var denominator = 0;
    // Accumulate sums for numerator and denominator

    for (var i = 0; i &lt; this.m_sim.numParticleTypes(); i++) {
      var particleType = this.m_sim.m_particle_types[i];
      if (particleMapper[particleType].display) {
        var numOutside = this.m_sim.m_dom.m_sim_controls.concentration(particleType, "outside");
        var numInside = this.m_sim.m_dom.m_sim_controls.concentration(particleType, "inside");

        if (particleMapper[particleType].charge > 0) {
          numerator += particleMapper[particleType].permeability * numOutside;

          denominator += particleMapper[particleType].permeability * numInside;
        } else {
          numerator += particleMapper[particleType].permeability * numInside;
          denominator += particleMapper[particleType].permeability * numOutside;
        }
      }
    };

    var answer = ((R * T) / F) * Math.log(numerator / denominator);
    return answer;
  }

  /**
  * compute a Goldman Equation based on current simulation setting to 4 decimal points.
  * @access public
  * @returns {number}
  */
  result() {
    return this.compute().toFixed(4);
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="EquationResult.html">EquationResult</a></li><li><a href="globals.html">globals</a></li><li><a href="GoldmanEq.html">GoldmanEq</a></li><li><a href="Help.html">Help</a></li><li><a href="InputRow.html">InputRow</a></li><li><a href="NernstEq.html">NernstEq</a></li><li><a href="Point.html">Point</a></li><li><a href="Preset.html">Preset</a></li><li><a href="Question.html">Question</a></li><li><a href="Rectangle.html">Rectangle</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Mar 18 2019 12:07:16 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
